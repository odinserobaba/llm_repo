# Prompting Guide — карта понимания

```
┌─────────────────────────────────────────────────────────────┐
│  PROMPTING как набор инструментов: каждый для своей задачи  │
├────────────┬────────────┬────────────┬──────────────────────┤
│ Якорь     │ Механика   │ Прорыв     │ Применение           │
│ 3 сек     │ 20 сек     │ ✨ 5 сек   │ 10 сек               │
│ Инструменты│ Zero/Few  │ ReAct =    │ RAG, цепочки,        │
│ в ящике   │ CoT, Chain │ мысль+действ│ рефлексия            │
└────────────┴────────────┴────────────┴──────────────────────┘
```

---

## 🎯 Якорь + эмоциональный мостик

**🎯 ЯКОРЬ:** Ящик с инструментами — отвёртка, молоток, пила. Каждый для своей задачи. Zero-shot, few-shot, CoT, ReAct — так же: разные техники под разные запросы.

💡 **Эмпатия:** «Звучит как магия промптов? Сейчас станет проще, чем выбрать отвёртку по размеру винта.»

---

## 📖 Термины и понятия

| Термин | Что это | Метафора |
|--------|---------|----------|
| **Zero-shot** | Только инструкция. «Сделай X». | 📝 Задание без примера |
| **Few-shot** | 2–5 примеров «вход → выход». | 📚 Образцы в магазине |
| **CoT** | «Рассуждай по шагам». Точность ↑. | 🧠 Черновик перед чистовиком |
| **RAG prompt** | Контекст + вопрос в промпте. | 📖 Шпаргалка на экзамене |
| **ReAct** | Думает → вызывает tool → смотрит → думает. | 🤖 Мозг + руки |
| **Reflexion** | Самопроверка и исправление. | 🔍 Редактор своей работы |
| **Токен** | Единица текста (~2–4 символа). Платим за токены. | 💰 «Монета» для LLM |

---

## 📐 Радиальная карта

```
                         ┌──────────────────┐
                         │   PROMPTING       │ ← ЦЕНТР
                         │   GUIDE           │
                         └────────┬─────────┘
              ┌───────────────────┼───────────────────┐
              ↓                   ↓                   ↓
       ┌────────────┐     ┌────────────┐     ┌────────────┐
       │ Базовые    │     │ Цепочки   │     │ Продвинутые│
       │ (3 шт.)    │     │ (2 шт.)   │     │ (2 шт.)    │
       └─────┬──────┘     └─────┬──────┘     └─────┬──────┘
             ↓                   ↓                   ↓
       • Zero-shot         • Chaining          • ReAct
       • Few-shot          • RAG prompt        • Reflexion
       • Chain-of-Thought
```

---

## 🔷 Прогрессивная схема (3 фазы)

#### Фаза 1: От простого к сложному
```
┌──────────────┐     ┌──────────────┐
│  Zero-shot   │ ─→  │  Few-shot    │  примеры задают стиль
│  (только    │     │  (примеры)   │
│  инструкция) │     └──────┬───────┘
└──────────────┘            ↓
                     ┌──────────────┐
                     │  CoT         │  «рассуждай по шагам»
                     └──────────────┘
```

#### Фаза 2: Цепочки
```
┌──────────────┐     ┌──────────────┐
│  Промпт 1    │ ─→  │  Промпт 2    │  выход одного = вход второго
└──────────────┘     └──────────────┘

RAG: вопрос → ретривер → контекст → промпт с контекстом
```

#### Фаза 3: Прорыв ← ✨ ВОТ ЗДЕСЬ МАГИЯ!
```
┌──────────────┐
│  ReAct       │  Reasoning + Acting
└──────┬───────┘
       ↓
✨ Модель: думаю → вызываю tool → смотрю результат → думаю снова
   Гибкость сложных задач через инструменты
```

---

## 📊 Таблица контрастов

| Что думают ❌ | Что на самом деле ✅ | Визуальная метафора |
|---------------|---------------------|----------------------|
| «Один промпт на всё» | Zero/Few/CoT/Chain — разное под задачу | `Отвёртка vs молоток` |
| «Few-shot = много текста» | 2–3 примера часто достаточно | `Образец в магазине` |
| «CoT = медленнее» | Точность растёт, токены — плата | `Черновик перед чистовиком` |
| «RAG = сложно» | Вопрос + контекст в промпте | `Шпаргалка на экзамене` |

---

## 💻 Мини-код с комментариями-стрелками

```python
# ← 1. Few-shot: 2–3 примера задают стиль
prompt = """Переведи на деловой стиль.
Пример 1: "ок" → "Подтверждаю"
Пример 2: "спасибо" → "Благодарю"
Текст: {text}"""
# ← 2. CoT: «рассуждай по шагам»
prompt += "\nРассуждай по шагам, затем дай итог."
#        ↑
#        └─── ✨ ВОТ ЗДЕСЬ МАГИЯ: точность растёт за счёт явного рассуждения
```

Файлы: `01_zero_shot` | `02_few_shot` | `03_chain_of_thought` | … | `07_reflexion`

---

## ✅ Чек-лист самопроверки

```
✅ Проверь себя за 15 секунд:
▫️ Могу выбрать zero-shot vs few-shot под задачу
▫️ Понимаю CoT: «рассуждай по шагам»
▫️ Знаю ReAct: мысль + действие + инструменты
▫️ Могу собрать цепочку из 2 промптов
▫️ Понимаю RAG-промпт: контекст + вопрос

→ Если 4+ галочки — уверенно владеешь основой.
```

---

## 🔍 Микро-проверка

**Вопрос:** Few-shot = много текста в промпте?  
**Ответ:** Нет. 2–3 примера чаще всего достаточно. 10+ — перегруз, модель может копировать стиль примеров вместо задачи.

**Вопрос:** Зачем CoT, если модель и так «думает»?  
**Ответ:** CoT = явное «рассуждай по шагам» → модель выводит промежуточные мысли. Точность сложных задач растёт. Без CoT — сразу вывод, может ошибиться.

---

## ⚠️ Частые ошибки

| Ошибка | Решение |
|--------|---------|
| Few-shot «перегружает» — модель копирует пример | 2–3 примера достаточно, не 10 |
| CoT не помогает — ответ короткий | Явно: «Сначала объясни по шагам, затем вывод» |

---

## ➡️ Что дальше

- **Модуль 3** — ReAct в агентах (мысль + tool).
- **Модуль 4** — RAG-промпт (контекст + вопрос).

**≈20 мин** — просмотр файлов | **≈1 ч** — применить 3 техники к своей задаче

---

## 📁 Файлы в папке

| Файл | Техника |
|------|---------|
| `01_zero_shot.md` | Только инструкция |
| `02_few_shot.md` | Примеры |
| `03_chain_of_thought.md` | Рассуждение по шагам |
| `04_prompt_chaining.md` | Цепочки промптов |
| `05_rag_prompt.md` | RAG-инструкция |
| `06_react.md` | ReAct |
| `07_reflexion.md` | Рефлексия |
| `promt.md` | Системный промпт (полная версия) |

---

**Как использовать:** открой нужный файл → скопируй шаблон → подставь свою задачу.
