
## Пример 1: Компонент с `@Input()` и `@Output()`

```html
<app-user-card 
  [user]="currentUser" 
  [isActive]="true" 
  [ngClass]="{'highlighted': isSelected}"
  (userSelected)="onUserSelect($event)"
  #userCardRef>
  
  <div *ngIf="userCardRef.user?.admin" class="admin-badge">
    Администратор
  </div>
  
  <ng-container *ngTemplateOutlet="userActions"></ng-container>
</app-user-card>
```

**CSS селекторы:**
```css
/* 1. Селектор компонента */
app-user-card { display: block; }

/* 2. Селектор по атрибуту с квадратными скобками */
[user] { border: 1px solid #ddd; }

/* 3. Селектор по атрибуту с круглыми скобками */
(userSelected) { cursor: pointer; }

/* 4. Селектор с ngClass */
.highlighted { background-color: #fffacd; }

/* 5. Селектор по локальной ссылке */
#userCardRef { margin: 10px; }

/* 6. Селектор потомка с *ngIf */
app-user-card .admin-badge { background: gold; }

/* 7. Селектор с ng-container */
ng-container { display: contents; }

/* 8. Селектор с *ngTemplateOutlet */
app-user-card > ng-container { margin-top: 10px; }
```

## Пример 2: Angular Forms

```html
<form [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
  <div formGroupName="address">
    <input 
      type="text" 
      formControlName="street"
      [class.is-invalid]="userForm.get('address.street')?.invalid"
      [attr.data-cy]="'street-input'">
    
    <div *ngIf="userForm.get('address.street')?.errors?.['required']" 
         class="error-message">
      Обязательное поле
    </div>
  </div>
  
  <button type="submit" [disabled]="userForm.invalid">
    Сохранить
  </button>
</form>
```

**CSS селекторы:**
```css
/* 1. Селектор по formGroup */
[formGroup] { padding: 20px; }

/* 2. Селектор по formControlName */
[formControlName] { width: 100%; }

/* 3. Селектор по динамическому классу */
.is-invalid { border-color: #dc3545; }

/* 4. Селектор по data-атрибуту */
[data-cy="street-input"] { padding: 8px; }

/* 5. Селектор по состоянию disabled */
button[disabled] { opacity: 0.6; }

/* 6. Селектор с *ngIf */
.error-message { color: #dc3545; }

/* 7. Селектор по formGroupName */
[formGroupName] { margin-bottom: 15px; }

/* 8. Селектор по событию */
(ngSubmit) { margin-top: 20px; }
```

## Пример 3: `*ngFor` с трекингом

```html
<ul class="items-list">
  <li *ngFor="let item of items; 
              trackBy: trackByFn; 
              let i = index; 
              let isEven = even"
      [class.even-row]="isEven"
      [attr.data-index]="i"
      [id]="'item-' + i">
    
    <span [ngClass]="{'new-item': item.isNew}">{{ item.name }}</span>
    
    <button (click)="removeItem(i)" 
            [title]="'Удалить ' + item.name">
      ×
    </button>
  </li>
</ul>
```

**CSS селекторы:**
```css
/* 1. Селектор элемента с *ngFor */
.items-list > li { padding: 10px; }

/* 2. Селектор по динамическому классу */
.even-row { background-color: #f8f9fa; }

/* 3. Селектор по data-атрибуту с индексом */
[data-index] { border-bottom: 1px solid #eee; }

/* 4. Селектор по динамическому ID */
[id^="item-"] { transition: all 0.3s; }

/* 5. Селектор по ngClass */
.new-item { font-weight: bold; color: #28a745; }

/* 6. Селектор по событию click */
(click) { cursor: pointer; }

/* 7. Селектор по динамическому title */
[title*="Удалить"] { color: #dc3545; }

/* 8. Селектор с :hover для элементов списка */
.items-list > li:hover { background-color: #e9ecef; }
```

## Пример 4: Angular Directives

```html
<div appHighlight [highlightColor]="'yellow'" 
     [class.active]="isActive"
     [style.width.px]="containerWidth">
  
  <p [appTooltip]="tooltipText" [position]="'top'">
    Наведи на меня
  </p>
  
  <div *appUnless="isHidden" [ngStyle]="customStyles">
    Контент, который показывается
  </div>
  
  <ng-template #loadingTemplate>
    <div class="spinner">Загрузка...</div>
  </ng-template>
  
  <div *ngTemplateOutlet="isLoading ? loadingTemplate : null">
  </div>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор кастомной директивы */
[appHighlight] { padding: 10px; }

/* 2. Селектор по входному параметру директивы */
[highlightColor] { transition: background 0.3s; }

/* 3. Селектор по другой директиве */
[appTooltip] { border-bottom: 1px dotted #666; }

/* 4. Селектор по ngStyle */
[ngStyle] { margin: 10px 0; }

/* 5. Селектор структурной директивы */
*appUnless { animation: fadeIn 0.5s; }

/* 6. Селектор ng-template */
ng-template { display: none; }

/* 7. Селектор по *ngTemplateOutlet */
div[ngTemplateOutlet] { min-height: 50px; }

/* 8. Селектор по динамическому стилю */
[style.width.px] { overflow: hidden; }
```

## Пример 5: Angular Router

```html
<nav>
  <a routerLink="/home" 
     routerLinkActive="active-link" 
     [routerLinkActiveOptions]="{exact: true}"
     ariaCurrentWhenActive="page">
    Главная
  </a>
  
  <a [routerLink]="['/user', userId]" 
     routerLinkActive="active-link"
     [queryParams]="{tab: 'profile'}"
     [fragment]="'section'">
    Профиль
  </a>
  
  <a routerLink="/admin" 
     *ngIf="isAdmin" 
     [skipLocationChange]="true">
    Админка
  </a>
</nav>

<router-outlet (activate)="onRouteActivate($event)"
               (deactivate)="onRouteDeactivate($event)">
</router-outlet>

<div [ngSwitch]="currentRoute">
  <div *ngSwitchCase="'home'">Домашняя страница</div>
  <div *ngSwitchCase="'user'">Страница пользователя</div>
  <div *ngSwitchDefault>Неизвестный маршрут</div>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор routerLink */
[routerLink] { text-decoration: none; }

/* 2. Селектор routerLinkActive */
.active-link { font-weight: bold; color: #007bff; }

/* 3. Селектор по routerLinkActiveOptions */
[routerLinkActiveOptions] { position: relative; }

/* 4. Селектор router-outlet */
router-outlet { display: block; min-height: 300px; }

/* 5. Селектор по событиям роутера */
(activate), (deactivate) { animation-duration: 0.3s; }

/* 6. Селектор с *ngIf внутри routerLink */
[routerLink] *ngIf { display: inline; }

/* 7. Селектор с ngSwitch */
[ngSwitch] { margin-top: 20px; }

/* 8. Селектор *ngSwitchCase */
*ngSwitchCase { padding: 15px; }

/* 9. Селектор *ngSwitchDefault */
*ngSwitchDefault { color: #6c757d; }

/* 10. Селектор по skipLocationChange */
[skipLocationChange] { opacity: 0.8; }
```

## Пример 6: Angular Pipes

```html
<div class="user-info" [title]="user.createdAt | date:'fullDate'">
  <h3>{{ user.name | uppercase }}</h3>
  
  <p>{{ user.balance | currency:'RUB':'symbol':'1.2-2' }}</p>
  
  <p>{{ user.description | slice:0:100 | async }}</p>
  
  <div [innerHTML]="user.bio | safeHtml"></div>
  
  <ul>
    <li *ngFor="let tag of (user.tags | filter:searchTerm)">
      {{ tag | lowercase }}
    </li>
  </ul>
  
  <p>{{ today | date:'medium' | uppercase }}</p>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор с pipe в title */
[title] { cursor: help; }

/* 2. Селектор элемента с uppercase pipe */
h3 { text-transform: none; /* pipe переопределит */ }

/* 3. Селектор элемента с currency pipe */
.user-info > p:nth-of-type(1) { color: green; }

/* 4. Селектор с async pipe */
p:has(+ div) { font-style: italic; }

/* 5. Селектор с innerHTML и pipe */
[innerHTML] { border-left: 3px solid #007bff; padding-left: 10px; }

/* 6. Селектор с кастомным pipe */
[safeHtml] { line-height: 1.6; }

/* 7. Селектор элемента внутри *ngFor с pipe */
ul > li { display: inline-block; margin-right: 5px; }

/* 8. Селектор цепочки pipes */
.user-info > p:last-child { font-size: 0.9em; }
```

## Пример 7: Content Projection (`<ng-content>`)

```html
<app-card [theme]="'dark'">
  <ng-container header>
    <h2>Заголовок карточки</h2>
    <button (click)="close()">×</button>
  </ng-container>
  
  <div class="card-body" body>
    Основной контент карточки
    <ng-content select=".extra-content"></ng-content>
  </div>
  
  <div footer>
    <button>Действие 1</button>
    <button>Действие 2</button>
  </div>
  
  <ng-template #customTemplate>
    Дополнительный контент
  </ng-template>
</app-card>
```

**CSS селекторы:**
```css
/* 1. Селектор компонента с проекцией */
app-card { border: 1px solid #ddd; border-radius: 4px; }

/* 2. Селектор ng-container с атрибутом */
[header] { background: #f8f9fa; padding: 15px; }

/* 3. Селектор с select в ng-content */
ng-content[select=".extra-content"] { margin-top: 10px; }

/* 4. Селектор по атрибуту проекции */
[body] { padding: 20px; }

/* 5. Селектор по атрибуту проекции footer */
[footer] { border-top: 1px solid #eee; padding: 15px; }

/* 6. Селектор кнопки в проектируемом контенте */
[footer] button { margin-right: 10px; }

/* 7. Селектор ng-template внутри компонента */
app-card > ng-template { display: none; }

/* 8. Селектор по теме компонента */
[theme="dark"] { background: #333; color: white; }
```

## Пример 8: Reactive Forms с валидацией

```html
<form [formGroup]="signupForm" class="needs-validation" novalidate>
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" 
           id="email" 
           formControlName="email"
           [ngClass]="{
             'is-valid': signupForm.get('email')?.valid,
             'is-invalid': signupForm.get('email')?.invalid
           }"
           aria-describedby="emailHelp">
           
    <div *ngIf="signupForm.get('email')?.pending" class="validating">
      Проверка...
    </div>
    
    <div *ngIf="signupForm.get('email')?.errors?.['required']" 
         class="invalid-feedback">
      Email обязателен
    </div>
    
    <div *ngIf="signupForm.get('email')?.errors?.['email']" 
         class="invalid-feedback">
      Некорректный email
    </div>
  </div>
  
  <div formArrayName="phones">
    <div *ngFor="let phone of phones.controls; let i = index"
         [formGroupName]="i">
      <input formControlName="number"
             placeholder="Номер телефона">
    </div>
  </div>
</form>
```

**CSS селекторы:**
```css
/* 1. Селектор реактивной формы */
[formGroup].needs-validation { max-width: 500px; }

/* 2. Селектор по formControlName */
input[formControlName] { width: 100%; }

/* 3. Селектор по ngClass с валидацией */
.is-valid { border-color: #28a745; }
.is-invalid { border-color: #dc3545; }

/* 4. Селектор по состоянию pending */
.validating { color: #6c757d; font-size: 0.9em; }

/* 5. Селектор сообщений об ошибках */
.invalid-feedback { display: block; color: #dc3545; }

/* 6. Селектор formArrayName */
[formArrayName] { margin-top: 20px; }

/* 7. Селектор formGroupName внутри formArrayName */
[formArrayName] > [formGroupName] { margin-bottom: 10px; }

/* 8. Селектор по placeholder в динамическом поле */
input[placeholder="Номер телефона"] { max-width: 250px; }
```

## Пример 9: Динамические компоненты

```html
<ng-template #dynamicComponentHost></ng-template>

<div #containerRef></div>

<button (click)="loadComponent('alert')" 
        [disabled]="isLoading">
  Показать Alert
</button>

<button (click)="loadComponent('modal')" 
        *ngIf="hasPermission">
  Показать Modal
</button>

<div [@fadeAnimation]="animationState">
  <ng-container *ngComponentOutlet="currentComponent; 
                                    injector: componentInjector;
                                    content: projectableNodes">
  </ng-container>
</div>

<app-placeholder #placeholderRef 
                 [componentType]="dynamicType">
</app-placeholder>
```

**CSS селекторы:**
```css
/* 1. Селектор ng-template для хоста */
#dynamicComponentHost { display: none; }

/* 2. Селектор по ссылке на контейнер */
#containerRef { min-height: 100px; border: 1px dashed #ccc; }

/* 3. Селектор кнопки загрузки компонента */
button:first-of-type { margin-right: 10px; }

/* 4. Селектор по *ngIf с проверкой прав */
button[ngIf] { background: #6c757d; }

/* 5. Селектор с анимацией */
[@fadeAnimation] { transition: opacity 0.3s; }

/* 6. Селектор *ngComponentOutlet */
ng-container[ngComponentOutlet] { display: block; }

/* 7. Селектор компонента-плейсхолдера */
app-placeholder { opacity: 0.7; }

/* 8. Селектор по входному параметру компонента */
[componentType] { font-style: italic; }
```

## Пример 10: Angular Material с кастомными стилями

```html
<mat-card [class.mat-elevation-z8]="true" 
          [ngStyle]="{'max-width': cardWidth}">
  
  <mat-card-header>
    <div mat-card-avatar>
      <mat-icon [color]="'primary'">person</mat-icon>
    </div>
    <mat-card-title>
      {{ user.name }}
      <span *ngIf="user.verified" class="verified-badge">
        ✓
      </span>
    </mat-card-title>
  </mat-card-header>
  
  <mat-card-content>
    <mat-form-field appearance="outline" floatLabel="always">
      <mat-label>Поиск</mat-label>
      <input matInput 
             [(ngModel)]="searchQuery"
             (ngModelChange)="onSearchChange($event)">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    
    <mat-selection-list #selectionList 
                        [(ngModel)]="selectedItems">
      <mat-list-option *ngFor="let item of filteredItems" 
                       [value]="item"
                       [checkboxPosition]="'before'">
        {{ item.name }}
      </mat-list-option>
    </mat-selection-list>
  </mat-card-content>
  
  <mat-card-actions align="end">
    <button mat-button [mat-dialog-close]="false">Отмена</button>
    <button mat-raised-button 
            color="primary" 
            [disabled]="selectionList.selectedOptions.isEmpty()">
      Сохранить
    </button>
  </mat-card-actions>
</mat-card>
```

**CSS селекторы:**
```css
/* 1. Селектор Angular Material компонента */
mat-card { margin: 20px; }

/* 2. Селектор по классу elevation */
.mat-elevation-z8 { box-shadow: 0 8px 10px rgba(0,0,0,0.2); }

/* 3. Селектор по атрибуту Angular Material */
[mat-card-avatar] { background: #f0f0f0; border-radius: 50%; }

/* 4. Селектор mat-icon с color */
mat-icon[color] { font-size: 24px; }

/* 5. Селектор Angular Material field */
mat-form-field[appearance="outline"] { width: 100%; }

/* 6. Селектор matInput с ngModel */
mat-input[(ngModel)] { font-size: 16px; }

/* 7. Селектор mat-suffix иконки */
mat-icon[matSuffix] { cursor: pointer; }

/* 8. Селектор selection-list */
mat-selection-list { max-height: 300px; overflow-y: auto; }

/* 9. Селектор mat-list-option с checkboxPosition */
mat-list-option[checkboxPosition="before"] { padding-left: 0; }

/* 10. Селектор mat-card-actions с align */
mat-card-actions[align="end"] { justify-content: flex-end; }

/* 11. Селектор mat-button с mat-dialog-close */
button[mat-dialog-close] { margin-right: 10px; }

/* 12. Селектор mat-raised-button с disabled */
mat-raised-button[disabled] { opacity: 0.6; }
```

## Пример 11: `ViewChild` и `ViewChildren`

```html
<div #mainContainer 
     [class.loading]="isLoading"
     [attr.data-view]="'container'">
  
  <app-item #firstItem 
            [priority]="'high'"
            (itemClick)="onItemClick($event)">
    Первый элемент
  </app-item>
  
  <ng-container #dynamicContainer>
    <app-item *ngFor="let item of items" 
              #itemRefs
              [id]="'item-' + item.id">
      {{ item.name }}
    </app-item>
  </ng-container>
  
  <div #contentProjection>
    <ng-content></ng-content>
  </div>
  
  <button #submitButton 
          (click)="submit()"
          [hidden]="!isValid">
    Отправить
  </button>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор по ссылке с классом */
#mainContainer.loading { opacity: 0.5; pointer-events: none; }

/* 2. Селектор по data-атрибуту */
[data-view="container"] { position: relative; }

/* 3. Селектор компонента с @ViewChild */
#firstItem { border: 2px solid #007bff; }

/* 4. Селектор по приоритету */
[priority="high"] { font-weight: bold; }

/* 5. Селектор ng-container с ссылкой */
#dynamicContainer { margin: 20px 0; }

/* 6. Селектор элементов с #itemRefs (ViewChildren) */
#itemRefs { display: block; margin-bottom: 10px; }

/* 7. Селектор по динамическому ID */
[id^="item-"] { padding: 10px; }

/* 8. Селектор div для проекции контента */
#contentProjection { background: #f8f9fa; padding: 15px; }

/* 9. Селектор кнопки с hidden */
#submitButton[hidden] { display: none; }

/* 10. Селектор кнопки без hidden */
#submitButton:not([hidden]) { display: inline-block; }
```

## Пример 12: Dependency Injection и сервисы

```html
<div [@routerTransition]="getAnimationState()">
  <app-data-service-consumer 
    [apiEndpoint]="apiUrl"
    [useCache]="true"
    [injector]="customInjector">
    
    <ng-template let-data>
      <div class="data-item" 
           [ngClass]="{'odd': $odd, 'even': $even}">
        {{ data.name }}
        <span *ngIf="data.isNew" class="new-indicator">NEW</span>
      </div>
    </ng-template>
    
    <div *ngIf="loading" class="loading-overlay">
      <mat-spinner diameter="40"></mat-spinner>
    </div>
  </app-data-service-consumer>
  
  <app-logger [logLevel]="'debug'" 
              [timestamp]="true">
  </app-logger>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор с анимацией роутера */
[@routerTransition] { position: relative; }

/* 2. Селектор компонента с инжектором */
app-data-service-consumer { min-height: 200px; }

/* 3. Селектор по входному параметру сервиса */
[apiEndpoint] { border: 1px solid #dee2e6; }

/* 4. Селектор с useCache */
[useCache="true"] { opacity: 0.95; }

/* 5. Селектор ng-template с контекстом */
ng-template[let-data] { display: block; }

/* 6. Селектор по переменной шаблона */
[ngClass] .odd { background: #f8f9fa; }
[ngClass] .even { background: white; }

/* 7. Селектор с $odd и $even */
.new-indicator { color: #28a745; font-size: 0.8em; }

/* 8. Селектор loading overlay */
.loading-overlay { 
  position: absolute; 
  top: 0; 
  left: 0; 
  right: 0; 
  bottom: 0; 
  background: rgba(255,255,255,0.8); 
}

/* 9. Селектор mat-spinner */
mat-spinner[diameter="40"] { margin: auto; }

/* 10. Селектор логгера */
app-logger { font-family: monospace; font-size: 12px; }
```

## Пример 13: Change Detection стратегии

```html
<app-user-list [users]="users" 
               [changeDetection]="ChangeDetectionStrategy.OnPush"
               [immutable]="true">
  
  <ng-template let-user>
    <div class="user-row" 
         [class.changed]="user.__changed"
         [style.border-color]="user.isActive ? 'green' : 'gray'">
      
      <span>{{ user.name }}</span>
      <small>{{ user.lastUpdated | date:'HH:mm:ss' }}</small>
      
      <button (click)="markForCheck(user)"
              [cdkMonitorElementFocus]>
        Обновить
      </button>
    </div>
  </ng-template>
  
  <div #changeDetectorRef></div>
</app-user-list>

<button (click)="detectChanges()" 
        [ngClass]="{'manual-mode': isManualCD}">
  Detect Changes
</button>
```

**CSS селекторы:**
```css
/* 1. Селектор с OnPush стратегией */
[changeDetection] { border: 2px dashed #6c757d; }

/* 2. Селектор immutable данных */
[immutable="true"] .user-row { cursor: not-allowed; }

/* 3. Селектор по измененному состоянию */
.changed { animation: highlight 1s; }

/* 4. Селектор по динамическому border-color */
[style*="border-color"] { border-width: 2px; }

/* 5. Селектор времени обновления */
small { color: #6c757d; font-size: 0.8em; }

/* 6. Селектор кнопки с markForCheck */
button:has(+ #changeDetectorRef) { margin-left: auto; }

/* 7. Селектор с cdkMonitorElementFocus */
[cdkMonitorElementFocus] { outline: 2px solid #007bff; }

/* 8. Селектор по changeDetectorRef */
#changeDetectorRef { display: none; }

/* 9. Селектор кнопки ручного обнаружения изменений */
.manual-mode { background: #ffc107; color: black; }

/* 10. Анимация для highlight */
@keyframes highlight {
  0% { background-color: yellow; }
  100% { background-color: transparent; }
}
```

## Пример 14: Интернационализация (i18n)

```html
<div [dir]="textDirection" 
     [lang]="currentLang"
     [attr.data-locale]="locale">
  
  <h1 i18n="@@mainTitle">Добро пожаловать</h1>
  
  <p i18n="@@welcomeMessage"
     i18n-title="@@welcomeTitle"
     [title]="'Информация'">
    Привет, {{ userName }}!
  </p>
  
  <ng-container *ngIf="showDate">
    <p i18n="@@currentDate">
      Сегодня: { currentDate, date, full }
    </p>
    
    <p i18n="@@price">
      Цена: { price, number, currency }
    </p>
  </ng-container>
  
  <select [(ngModel)]="currentLang" 
          i18n-label="@@languageSelect"
          aria-label="Выбор языка">
    <option value="ru">Русский</option>
    <option value="en">English</option>
    <option value="es">Español</option>
  </select>
  
  <div [innerHTML]="'terms' | translate"></div>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор по направлению текста */
[dir="rtl"] { text-align: right; }
[dir="ltr"] { text-align: left; }

/* 2. Селектор по языку */
[lang="ru"] { font-family: 'Arial', sans-serif; }
[lang="en"] { font-family: 'Helvetica', sans-serif; }

/* 3. Селектор по data-locale */
[data-locale] { padding: 20px; }

/* 4. Селектор элемента с i18n атрибутом */
[i18n] { line-height: 1.6; }

/* 5. Селектор по i18n-title */
[i18n-title] { cursor: help; }

/* 6. Селектор ng-container с *ngIf для i18n */
ng-container[ngIf] > p { margin: 10px 0; }

/* 7. Селектор select с ngModel и i18n */
select[(ngModel)] { margin: 15px 0; padding: 5px; }

/* 8. Селектор option с value */
option[value] { padding: 5px; }

/* 9. Селектор с translate pipe */
[innerHTML] { margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; }

/* 10. Селектор по aria-label */
[aria-label*="языка"] { min-width: 150px; }
```

## Пример 15: Angular Animations

```html
<div [@fadeInOut]="animationState" 
     [@expandCollapse]="isExpanded"
     (@fadeInOut.start)="onAnimationStart($event)"
     (@fadeInOut.done)="onAnimationDone($event)">
  
  <button [@pulse]="shouldPulse" 
          (@pulse.done)="pulseDone()"
          (click)="toggle()">
    {{ isExpanded ? 'Скрыть' : 'Показать' }}
  </button>
  
  <div *ngIf="isExpanded" 
       [@staggerList]="items.length"
       class="animated-list">
    
    <div *ngFor="let item of items; let i = index" 
         [@listItem]="item.state"
         (@listItem.start)="logAnimation($event, i)">
      {{ item.name }}
    </div>
  </div>
  
  <div [@queryAnimation]>
    <h2 [@animateElement]>Заголовок</h2>
    <p [@animateElement]>Текст</p>
  </div>
  
  <div [@autoHeight]="contentHeight">
    <ng-content></ng-content>
  </div>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор с триггером анимации */
[@fadeInOut] { transition: all 0.3s ease; }

/* 2. Селектор с несколькими анимациями */
[@expandCollapse] { overflow: hidden; }

/* 3. Селектор по событию начала анимации */
(@fadeInOut.start) { will-change: opacity, transform; }

/* 4. Селектор по событию окончания анимации */
(@fadeInOut.done) { pointer-events: auto; }

/* 5. Селектор кнопки с анимацией pulse */
[@pulse] { animation-iteration-count: infinite; }

/* 6. Селектор *ngIf с анимацией */
.animated-list { margin-top: 20px; }

/* 7. Селектор stagger анимации */
[@staggerList] > div { margin-bottom: 10px; }

/* 8. Селектор анимированных элементов списка */
[@listItem] { background: white; padding: 10px; }

/* 9. Селектор query анимации */
[@queryAnimation] { position: relative; }

/* 10. Селектор animate элемента */
[@animateElement] { opacity: 0; animation-fill-mode: forwards; }

/* 11. Селектор autoHeight анимации */
[@autoHeight] { transition: height 0.3s ease; }
```

## Пример 16: Работа с `ElementRef` и `Renderer2`

```html
<div #editableArea 
     contenteditable="true"
     [attr.data-editable]="isEditable"
     (input)="onContentChange($event)"
     [spellcheck]="true"
     [tabindex]="0">
  
  <span [highlight]="searchText" 
        [caseSensitive]="false"
        [class.highlight-match]="true">
    Редактируемый текст
  </span>
  
  <div [customBackground]="bgColor"
       [ngStyle]="{'min-height': '100px'}">
    Динамический фон
  </div>
</div>

<button #actionButton 
        (mousedown)="onMouseDown($event)"
        (mouseup)="onMouseUp($event)"
        [rendererClass]="'btn-custom'"
        [attr.aria-pressed]="isPressed">
  Нажми меня
</button>

<div [nativeElement]="getNativeElement()"
     [observeSize]="true"
     (sizeChanged)="onResize($event)">
  Наблюдаемый элемент
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор contenteditable элемента */
[contenteditable="true"] { 
  border: 1px solid #ccc; 
  padding: 10px; 
  min-height: 100px; 
}

/* 2. Селектор по data-атрибуту редактирования */
[data-editable="true"] { background: #fff; }

/* 3. Селектор по spellcheck */
[spellcheck="true"] { background: url('spellcheck-bg.png'); }

/* 4. Селектор с tabindex */
[tabindex="0"]:focus { outline: 2px solid #007bff; }

/* 5. Селектор директивы highlight */
[highlight] { position: relative; }

/* 6. Селектор с caseSensitive */
[caseSensitive="false"] { text-transform: lowercase; }

/* 7. Селектор highlight-match класса */
.highlight-match { background-color: yellow; padding: 2px; }

/* 8. Селектор кастомной директивы фона */
[customBackground] { padding: 20px; color: white; }

/* 9. Селектор кнопки с событиями мыши */
button:active { transform: translateY(2px); }

/* 10. Селектор по rendererClass */
.btn-custom { 
  background: linear-gradient(45deg, #007bff, #6610f2); 
  color: white; 
}

/* 11. Селектор по aria-pressed */
[aria-pressed="true"] { box-shadow: inset 0 3px 5px rgba(0,0,0,0.2); }

/* 12. Селектор с nativeElement */
[nativeElement] { border: 2px solid #28a745; }

/* 13. Селектор с observeSize */
[observeSize] { resize: both; overflow: auto; }
```

## Пример 17: Angular CDK (Component Dev Kit)

```html
<div cdkDrag 
     [cdkDragData]="dragData"
     [cdkDragBoundary]="'.drag-container'"
     (cdkDragStarted)="onDragStart($event)"
     (cdkDragEnded)="onDragEnd($event)">
  
  <div class="drag-handle" cdkDragHandle>
    Перетащи меня
  </div>
  
  <div cdkDropList 
       [cdkDropListData]="items"
       (cdkDropListDropped)="onDrop($event)"
       [cdkDropListConnectedTo]="[otherList]">
    
    <div *ngFor="let item of items" 
         cdkDrag
         [cdkDragDisabled]="item.locked">
      {{ item.name }}
    </div>
  </div>
</div>

<div cdkScrollable 
     [cdkScrollableElement]="scrollContainer"
     (cdkScrollable)="onScroll($event)">
  
  <div #scrollContainer class="scroll-container">
    Длинный контент...
  </div>
</div>

<button cdkCopyToClipboard="Текст для копирования"
        (cdkCopyToClipboardCopied)="onCopy($event)">
  Копировать
</button>

<div [cdkPortalOutlet]="selectedPortal"></div>
```

**CSS селекторы:**
```css
/* 1. Селектор cdkDrag элемента */
[cdkDrag] { 
  cursor: move; 
  user-select: none; 
  position: relative; 
}

/* 2. Селектор cdkDrag с данными */
[cdkDragData] { border: 1px dashed #ccc; padding: 10px; }

/* 3. Селектор cdkDragBoundary */
[cdkDragBoundary] { position: relative; min-height: 200px; }

/* 4. Селектор события drag started */
(cdkDragStarted) { opacity: 0.5; z-index: 1000; }

/* 5. Селектор события drag ended */
(cdkDragEnded) { transition: transform 0.2s; }

/* 6. Селектор drag handle */
.cdk-drag-handle { cursor: grab; padding: 10px; background: #f0f0f0; }

/* 7. Селектор cdkDropList */
[cdkDropList] { 
  border: 2px solid #007bff; 
  min-height: 100px; 
  padding: 10px; 
}

/* 8. Селектор cdkDropListData */
[cdkDropListData] { background: #f8f9fa; }

/* 9. Селектор cdkDropListDropped */
(cdkDropListDropped) { animation: dropEffect 0.3s; }

/* 10. Селектор cdkDropListConnectedTo */
[cdkDropListConnectedTo] { border-style: dashed; }

/* 11. Селектор cdkDragDisabled */
[cdkDragDisabled] { cursor: not-allowed; opacity: 0.6; }

/* 12. Селектор cdkScrollable */
[cdkScrollable] { max-height: 300px; overflow: auto; }

/* 13. Селектор cdkScrollableElement */
.scroll-container { padding: 20px; }

/* 14. Селектор cdkCopyToClipboard */
[cdkCopyToClipboard] { position: relative; }

/* 15. Селектор cdkPortalOutlet */
[cdkPortalOutlet] { min-height: 50px; border: 1px solid #dee2e6; }

@keyframes dropEffect {
  0% { background-color: #e3f2fd; }
  100% { background-color: transparent; }
}
```

## Пример 18: Работа с Observable и async pipe

```html
<div *ngIf="user$ | async as user; else loading"
     [class.authenticated]="!!user"
     [attr.data-user-id]="user?.id">
  
  <h2>{{ user.name }}</h2>
  
  <div *ngIf="user.posts$ | async as posts; else noPosts">
    <div *ngFor="let post of posts; 
                trackBy: trackPostById;
                let first = first;
                let last = last">
      
      <article [class.first-post]="first"
               [class.last-post]="last">
        {{ post.title }}
      </article>
    </div>
  </div>
  
  <ng-template #noPosts>
    <p>Нет постов</p>
  </ng-template>
  
  <button (click)="loadMore()" 
          [disabled]="(isLoadingMore$ | async)">
    Загрузить еще
  </button>
</div>

<ng-template #loading>
  <div class="skeleton-loader" 
       [style.width.px]="200"
       [style.height.px]="100">
  </div>
</ng-template>

<div [innerHTML]="content$ | async | safeHtml"></div>
```

**CSS селекторы:**
```css
/* 1. Селектор с async pipe и as переменной */
[class.authenticated] { border-left: 4px solid #28a745; }

/* 2. Селектор по data-user-id из async */
[data-user-id] { padding: 20px; }

/* 3. Селектор с вложенным async pipe */
div:has(> article) { margin-top: 20px; }

/* 4. Селектор trackBy функции */
[trackby] { animation: fadeIn 0.5s; }

/* 5. Селектор first элемента */
.first-post { border-top: 2px solid #007bff; }

/* 6. Селектор last элемента */
.last-post { border-bottom: 2px solid #007bff; }

/* 7. Селектор ng-template ссылки */
#noPosts p { color: #6c757d; font-style: italic; }

/* 8. Селектор кнопки с disabled async */
button[disabled] { opacity: 0.5; cursor: not-allowed; }

/* 9. Селектор loading template */
.skeleton-loader { 
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

/* 10. Селектор с цепочкой pipes */
[innerHTML] { line-height: 1.6; }

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
```

## Пример 19: Кастомные валидаторы форм

```html
<form [formGroup]="registrationForm" novalidate>
  <div class="form-group">
    <input type="password" 
           formControlName="password"
           [appPasswordStrength]="minStrength"
           (blur)="markAsTouched('password')">
    
    <div *ngIf="registrationForm.get('password')?.errors?.['required']" 
         class="error">
      Пароль обязателен
    </div>
    
    <div *ngIf="registrationForm.get('password')?.errors?.['minlength']" 
         class="error">
      Минимум {{ registrationForm.get('password')?.errors?.['minlength'].requiredLength }} символов
    </div>
    
    <div *ngIf="registrationForm.get('password')?.errors?.['passwordStrength']" 
         class="error">
      {{ registrationForm.get('password')?.errors?.['passwordStrength'].message }}
    </div>
    
    <div class="strength-meter" 
         [style.width.%]="getPasswordStrength()"
         [style.background-color]="getStrengthColor()">
    </div>
  </div>
  
  <div class="form-group">
    <input type="password" 
           formControlName="confirmPassword"
           [appConfirmPassword]="registrationForm.get('password')">
    
    <div *ngIf="registrationForm.get('confirmPassword')?.errors?.['passwordMismatch']" 
         class="error">
      Пароли не совпадают
    </div>
  </div>
  
  <div formArrayName="emails">
    <div *ngFor="let email of emailControls; let i = index">
      <input [formControlName]="i"
             [appUniqueEmail]="i">
      
      <div *ngIf="email.hasError('notUnique')" class="error">
        Email уже используется
      </div>
    </div>
  </div>
</form>
```

**CSS селекторы:**
```css
/* 1. Селектор кастомного валидатора */
[appPasswordStrength] { 
  border-width: 2px; 
  padding-right: 40px; 
}

/* 2. Селектор ошибок валидации */
.error { 
  color: #dc3545; 
  font-size: 0.875em; 
  margin-top: 5px; 
}

/* 3. Селектор для конкретной ошибки */
[formControlName] + .error:first-of-type { margin-top: 8px; }

/* 4. Селектор strength meter */
.strength-meter { 
  height: 4px; 
  margin-top: 5px; 
  border-radius: 2px; 
  transition: all 0.3s; 
}

/* 5. Селектор по динамической ширине */
[style*="width.%"] { max-width: 100%; }

/* 6. Селектор по динамическому background-color */
[style*="background-color"] { opacity: 0.8; }

/* 7. Селектор валидатора подтверждения пароля */
[appConfirmPassword] { border-style: dotted; }

/* 8. Селектор ошибки passwordMismatch */
.error:contains("не совпадают") { font-weight: bold; }

/* 9. Селектор formArray с валидацией */
[formArrayName] > div { margin-bottom: 15px; }

/* 10. Селектор кастомного валидатора уникальности */
[appUniqueEmail] { border-color: #6c757d; }

/* 11. Селектор ошибки notUnique */
[hasError='notUnique'] { border-color: #dc3545; }
```

## Пример 20: Angular SSR и Universal

```html
<div [class.is-server]="isPlatformServer"
     [class.is-browser]="isPlatformBrowser"
     [attr.data-platform]="platformId">
  
  <h1 [style.visibility]="isPlatformBrowser ? 'visible' : 'hidden'">
    {{ pageTitle }}
  </h1>
  
  <div *ngIf="isPlatformBrowser" 
       [class.client-only]="true"
       (window:resize)="onResize($event)">
    
    <canvas #chartCanvas 
            [width]="windowWidth"
            [height]="windowHeight">
    </canvas>
  </div>
  
  <div *ngIf="isPlatformServer" class="server-content">
    <p>Этот контент виден только на сервере</p>
  </div>
  
  <noscript>
    <div class="no-js-warning">
      Пожалуйста, включите JavaScript
    </div>
  </noscript>
  
  <meta [attr.content]="pageDescription" name="description">
  
  <link rel="preload" 
        [href]="preloadUrl"
        as="image"
        [media]="'(min-width: 768px)'">
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор серверного рендеринга */
.is-server { font-family: serif; }

/* 2. Селектор браузерного рендеринга */
.is-browser { font-family: sans-serif; }

/* 3. Селектор по data-platform */
[data-platform] { padding: 20px; }

/* 4. Селектор с условной видимостью */
[style*="visibility"] { transition: opacity 0.3s; }

/* 5. Селектор client-only контента */
.client-only { animation: fadeIn 0.5s; }

/* 6. Селектор обработчика события window */
(window\:resize) { resize: both; overflow: auto; }

/* 7. Селектор canvas элемента */
canvas { border: 1px solid #ccc; display: block; }

/* 8. Селектор динамических размеров */
[width], [height] { max-width: 100%; }

/* 9. Селектор server-only контента */
.server-content { 
  background: #f8f9fa; 
  padding: 10px; 
  border: 1px dashed #6c757d; 
}

/* 10. Селектор noscript */
noscript { display: block; }

/* 11. Селектор no-js warning */
.no-js-warning { 
  background: #fff3cd; 
  border: 1px solid #ffeaa7; 
  color: #856404; 
  padding: 15px; 
}

/* 12. Селектор meta тега */
meta[name="description"] { display: none; }

/* 13. Селектор preload link */
link[rel="preload"] { display: none; }

/* 14. Селектор по media query в атрибуте */
[media] { border: none; }

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
```

## Пример 21: Работа с `@HostBinding` и `@HostListener`

```html
<app-host-binding-demo 
  [appExpandOnHover]="true"
  [@hostAnimation]="animationValue"
  (customHostEvent)="onHostEvent($event)"
  [attr.role]="'region'"
  aria-labelledby="host-title">
  
  <div #hostContent class="host-content">
    <h3 id="host-title">Host Component</h3>
    
    <button (click)="toggleExpand()"
            [class.expanded]="isExpanded"
            [attr.aria-expanded]="isExpanded">
      {{ isExpanded ? 'Свернуть' : 'Развернуть' }}
    </button>
    
    <div class="expandable-content" 
         [style.max-height.px]="contentHeight">
      <ng-content></ng-content>
    </div>
  </div>
  
  <div [class.host-highlight]="isHighlighted"
       (mouseenter)="highlight()"
       (mouseleave)="unhighlight()">
    Наведи для подсветки
  </div>
</app-host-binding-demo>

<div [appHostClass]="customClasses"
     [appHostStyle]="customStyles">
  Динамические host классы и стили
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор HostBinding директивы */
[appExpandOnHover]:hover { transform: scale(1.02); }

/* 2. Селектор host анимации */
[@hostAnimation] { transition: all 0.3s ease; }

/* 3. Селектор custom host события */
(customHostEvent) { border: 2px solid transparent; }

/* 4. Селектор по role атрибуту */
[role="region"] { border: 1px solid #dee2e6; }

/* 5. Селектор aria-labelledby */
[aria-labelledby] { padding: 20px; }

/* 6. Селектор host-content */
.host-content { position: relative; }

/* 7. Селектор кнопки с HostBinding состояния */
[class.expanded] { background: #007bff; color: white; }

/* 8. Селектор по aria-expanded */
[aria-expanded="true"] + .expandable-content { display: block; }

/* 9. Селектор expandable content */
.expandable-content { 
  overflow: hidden; 
  transition: max-height 0.3s ease; 
}

/* 10. Селектор по динамической высоте */
[style*="max-height.px"] { margin-top: 10px; }

/* 11. Селектор host-highlight класса */
.host-highlight { 
  background: #fff3cd; 
  padding: 10px; 
  border-radius: 4px; 
}

/* 12. Селектор mouseenter события */
(mouseenter) { cursor: pointer; }

/* 13. Селектор mouseleave события */
(mouseleave) { transition: background 0.3s; }

/* 14. Селектор HostClass директивы */
[appHostClass] { font-weight: bold; }

/* 15. Селектор HostStyle директивы */
[appHostStyle] { border: 2px dotted #6c757d; }
```

## Пример 22: Angular Elements (Web Components)

```html
<angular-element [title]="elementTitle"
                 [data]="elementData"
                 (elementClick)="onElementClick($event)"
                 [part]="'custom-element'"
                 exportparts="header, body">
  
  <slot name="header">Заголовок по умолчанию</slot>
  
  <div class="element-body" part="body">
    <slot></slot>
  </div>
  
  <div class="shadow-content">
    <!-- Shadow DOM контент -->
  </div>
  
  <style>
    :host { display: block; }
    ::slotted(*) { margin: 10px; }
  </style>
</angular-element>

<div class="consumer">
  <angular-element>
    <span slot="header">Кастомный заголовок</span>
    Основной контент
  </angular-element>
</div>

<template id="elementTemplate">
  <div class="template-content">{{ templateData }}</div>
</template>
```

**CSS селекторы:**
```css
/* 1. Селектор Angular элемента */
angular-element { 
  --element-primary: #007bff; 
  border: 2px solid var(--element-primary); 
}

/* 2. Селектор по part атрибуту */
[part] { background: #f8f9fa; }

/* 3. Селектор с exportparts */
[exportparts] { padding: 20px; }

/* 4. Селектор slot элемента */
slot[name]::slotted(*) { font-weight: bold; }

/* 5. Селектор default slot */
slot:not([name])::slotted(*) { color: #333; }

/* 6. Селектор shadow content */
.shadow-content { 
  background: linear-gradient(45deg, #f8f9fa, #e9ecef); 
  padding: 15px; 
}

/* 7. Селектор стилей в элементе */
style { display: none; }

/* 8. Селектор :host в стилях элемента */
:host(.highlighted) { border-color: #ffc107; }

/* 9. Селектор ::slotted в стилях элемента */
::slotted(h2) { color: #007bff; }

/* 10. Селектор потребителя элемента */
.consumer > angular-element { margin: 20px; }

/* 11. Селектор по конкретному slot */
span[slot="header"] { font-size: 1.5em; }

/* 12. Селектор template для элемента */
template#elementTemplate { display: none; }

/* 13. Селектор template content */
.template-content { animation: slideIn 0.5s; }

/* 14. CSS переменные элемента */
angular-element { 
  --element-border-radius: 8px; 
  border-radius: var(--element-border-radius); 
}

@keyframes slideIn {
  from { transform: translateX(-20px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
```

## Пример 23: `@ContentChild` и `@ContentChildren`

```html
<app-content-queries>
  <ng-template #headerTemplate>
    <header class="content-header">
      <h2>Шаблон заголовка</h2>
      <button #headerButton>Действие</button>
    </header>
  </ng-template>
  
  <app-child-item #firstChild 
                  [priority]="'high'"
                  [class.featured]="true">
    Первый дочерний элемент
  </app-child-item>
  
  <app-child-item #secondChild
                  [priority]="'medium'">
    Второй дочерний элемент
  </app-child-item>
  
  <div #contentDiv class="custom-content">
    Произвольный HTML контент
  </div>
  
  <ng-container #dynamicContainer>
    <span *ngFor="let item of items">{{ item }}</span>
  </ng-container>
  
  <div directive-ref 
       appCustomDirective
       [directiveInput]="'value'">
    Элемент с директивой
  </div>
  
  <footer #footerRef class="content-footer">
    <p>Футер контента</p>
  </footer>
</app-content-queries>
```

**CSS селекторы:**
```css
/* 1. Селектор ContentChild template */
#headerTemplate { display: contents; }

/* 2. Селектор content header */
.content-header { 
  background: linear-gradient(to right, #007bff, #6610f2); 
  color: white; 
  padding: 20px; 
}

/* 3. Селектор ContentChild кнопки */
#headerButton { 
  background: white; 
  color: #007bff; 
  border: none; 
  padding: 8px 16px; 
  border-radius: 4px; 
}

/* 4. Селектор ContentChildren компонентов */
app-child-item { 
  display: block; 
  border: 1px solid #dee2e6; 
  margin: 10px 0; 
  padding: 15px; 
}

/* 5. Селектор первого ContentChild */
app-child-item:first-of-type { border-left: 4px solid #28a745; }

/* 6. Селектор по priority атрибуту */
[priority="high"] { background: #fff3cd; }

/* 7. Селектор featured класса */
.featured { box-shadow: 0 4px 6px rgba(0,0,0,0.1); }

/* 8. Селектор ContentChild div */
#contentDiv { 
  font-style: italic; 
  padding: 15px; 
  border: 1px dashed #6c757d; 
}

/* 9. Селектор ContentChild ng-container */
#dynamicContainer { 
  display: flex; 
  gap: 10px; 
  flex-wrap: wrap; 
}

/* 10. Селектор элемента с директивой */
[directive-ref] { border: 2px solid #ffc107; padding: 10px; }

/* 11. Селектор директивы на элементе */
[appCustomDirective] { font-weight: bold; }

/* 12. Селектор по входному параметру директивы */
[directiveInput] { color: #28a745; }

/* 13. Селектор ContentChild footer */
#footerRef { 
  margin-top: 20px; 
  padding-top: 20px; 
  border-top: 1px solid #dee2e6; 
  text-align: center; 
}
```

## Пример 24: Тестирование (TestBed)

```html
<div class="test-component" 
     data-testid="test-component"
     [attr.data-cy]="'component-under-test'">
  
  <h1 #titleRef 
      [title]="componentTitle"
      [attr.aria-label]="'Заголовок компонента'">
    {{ componentTitle }}
  </h1>
  
  <button #actionButton 
          (click)="onAction()"
          [disabled]="isDisabled"
          data-qa="primary-action">
    {{ buttonText }}
  </button>
  
  <input #textInput 
         type="text" 
         [(ngModel)]="inputValue"
         [placeholder]="'Введите текст'"
         data-test="text-input">
  
  <div #resultsContainer 
       *ngIf="showResults"
       class="test-results"
       [innerHTML]="results">
  </div>
  
  <ng-container #dynamicContainer>
    <div *ngFor="let item of testItems; let i = index"
         [id]="'item-' + i"
         [class.test-item]="true">
      {{ item }}
    </div>
  </ng-container>
  
  <form #testForm="ngForm" 
        (ngSubmit)="onSubmit()"
        [class.was-validated]="testForm.submitted">
    
    <div class="form-group">
      <label for="testField">Тестовое поле</label>
      <input id="testField" 
             name="testField" 
             required
             [(ngModel)]="formData.testField"
             #fieldRef="ngModel"
             [class.is-invalid]="fieldRef.invalid && testForm.submitted">
      
      <div *ngIf="fieldRef.errors?.['required'] && testForm.submitted" 
           class="invalid-feedback">
        Поле обязательно
      </div>
    </div>
  </form>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор для тестирования */
[data-testid] { position: relative; }

/* 2. Селектор Cypress атрибута */
[data-cy] { border: 1px solid rgba(0,123,255,0.3); }

/* 3. Селектор title элемента */
#titleRef { margin-bottom: 20px; }

/* 4. Селектор aria-label для accessibility тестов */
[aria-label] { cursor: default; }

/* 5. Селектор QA атрибута */
[data-qa] { 
  background: #007bff; 
  color: white; 
  border: none; 
  padding: 10px 20px; 
}

/* 6. Селектор disabled для тестирования состояний */
[disabled] { cursor: not-allowed; }

/* 7. Селектор test атрибута */
[data-test] { 
  border: 2px solid #dee2e6; 
  padding: 8px; 
  width: 100%; 
}

/* 8. Селектор placeholder */
[placeholder] { font-style: italic; }

/* 9. Селектор results container */
.test-results { 
  background: #f8f9fa; 
  padding: 15px; 
  margin-top: 20px; 
  border-radius: 4px; 
}

/* 10. Селектор ng-container для тестов */
#dynamicContainer { 
  display: grid; 
  gap: 10px; 
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); 
}

/* 11. Селектор test items */
.test-item { 
  background: white; 
  border: 1px solid #ddd; 
  padding: 10px; 
  text-align: center; 
}

/* 12. Селектор по динамическому ID */
[id^="item-"]:hover { background: #f0f0f0; }

/* 13. Селектор ngForm */
[ngForm] { margin-top: 30px; }

/* 14. Селектор was-validated класса */
.was-validated input:invalid { border-color: #dc3545; }

/* 15. Селектор form group для тестов */
.form-group { margin-bottom: 15px; }

/* 16. Селектор label с for атрибутом */
label[for] { display: block; margin-bottom: 5px; }

/* 17. Селектор ngModel reference */
[ngModel] { display: block; }

/* 18. Селектор invalid состояния */
.is-invalid { background: #fff5f5; }

/* 19. Селектор invalid-feedback */
.invalid-feedback { 
  color: #dc3545; 
  font-size: 0.875em; 
  margin-top: 5px; 
}
```

## Пример 25: Оптимизация производительности

```html
<div [ngClass]="{'optimized-component': true}"
     [changeDetection]="ChangeDetectionStrategy.OnPush"
     [runOutsideAngular]="true">
  
  <h2 [textContent]="staticTitle"></h2>
  
  <div [innerText]="staticContent"
       [avoidChangeDetection]="true">
  </div>
  
  <button (click)="manualDetectChanges()" 
          [detachChangeDetector]="isDetached">
    {{ isDetached ? 'Attach CD' : 'Detach CD' }}
  </button>
  
  <div #lazyContainer
       [intersectionObserver]="'0px'"
       (visible)="loadLazyContent()">
    
    <ng-container *ngIf="isLazyLoaded">
      <app-heavy-component 
        [deferLoading]="true"
        [virtualScroll]="items"
        [itemSize]="50">
        
        <ng-template let-item>
          <div class="virtual-item" 
               [style.height.px]="50">
            {{ item.name }}
          </div>
        </ng-template>
      </app-heavy-component>
    </ng-container>
  </div>
  
  <div [ngTemplateOutlet]="cachedTemplate"
       [context]="templateContext">
  </div>
  
  <input type="text" 
         [value]="searchTerm"
         (input)="onSearch($event.target.value)"
         [debounceTime]="300">
  
  <div [memoized]="computeIntensiveValue"
       [cacheSize]="10">
    Результат мемоизации: {{ memoizedValue }}
  </div>
  
  <div [trackBy]="trackById"
       *ngFor="let item of largeCollection">
    {{ item.id }} - {{ item.name }}
  </div>
</div>
```

**CSS селекторы:**
```css
/* 1. Селектор оптимизированного компонента */
.optimized-component { 
  border: 2px solid #28a745; 
  padding: 20px; 
}

/* 2. Селектор OnPush стратегии */
[changeDetection] { animation: none; }

/* 3. Селектор runOutsideAngular */
[runOutsideAngular] { 
  contain: layout style paint; 
  position: relative; 
}

/* 4. Селектор textContent binding */
[textContent] { 
  font-weight: bold; 
  margin-bottom: 15px; 
}

/* 5. Селектор innerText binding */
[innerText] { line-height: 1.6; color: #333; }

/* 6. Селектор avoidChangeDetection директивы */
[avoidChangeDetection] { will-change: transform; }

/* 7. Селектор кнопки управления ChangeDetector */
[detachChangeDetector] { 
  background: #6c757d; 
  color: white; 
  border: none; 
  padding: 8px 16px; 
}

/* 8. Селектор lazy контейнера */
#lazyContainer { 
  min-height: 200px; 
  border: 1px dashed #6c757d; 
  margin: 20px 0; 
}

/* 9. Селектор intersection observer */
[intersectionObserver] { opacity: 0; transition: opacity 0.5s; }

/* 10. Селектор visible события */
(visible) { opacity: 1; }

/* 11. Селектор тяжелого компонента */
app-heavy-component { display: block; }

/* 12. Селектор defer loading */
[deferLoading] { background: #f8f9fa; }

/* 13. Селектор virtual scroll */
[virtualScroll] { 
  height: 300px; 
  overflow-y: auto; 
  position: relative; 
}

/* 14. Селектор virtual items */
.virtual-item { 
  position: absolute; 
  width: 100%; 
  border-bottom: 1px solid #eee; 
  display: flex; 
  align-items: center; 
  padding: 0 10px; 
}

/* 15. Селектор кэшированного template */
[ngTemplateOutlet] { animation: fadeIn 0.3s; }

/* 16. Селектор context для template */
[context] { font-style: italic; }

/* 17. Селектор debounce input */
[debounceTime] { 
  width: 100%; 
  padding: 8px; 
  border: 1px solid #ced4da; 
}

/* 18. Селектор memoized значения */
[memoized] { 
  background: #e7f3ff; 
  padding: 10px; 
  border-radius: 4px; 
  margin: 10px 0; 
}

/* 19. Селектор cache size */
[cacheSize] { border-left: 4px solid #17a2b8; }

/* 20. Селектор trackBy функции */
[trackBy] { transition: transform 0.2s; }

/* 21. Селектор large collection items */
*ngFor:last-child { border-bottom: none; }

/* 22. Оптимизированные анимации */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 23. Стили для contain */
[contain] { 
  isolation: isolate; 
  z-index: 0; 
}
```

## Классификация Angular-специфичных селекторов:

### 1. Директивы и компоненты:
- `app-component` - селектор компонента
- `[appDirective]` - селектор директивы по атрибуту
- `(customEvent)` - кастомные события
- `[(ngModel)]` - двусторонняя привязка

### 2. Структурные директивы:
- `*ngIf` - условное отображение
- `*ngFor` - циклы с трекингом
- `*ngSwitchCase` - переключатель
- `*ngTemplateOutlet` - шаблоны

### 3. Angular Forms:
- `[formGroup]` - реактивные формы
- `[formControlName]` - привязка контролов
- `[ngModel]` - template-driven формы
- `.ng-valid` / `.ng-invalid` - состояния валидации

### 4. Angular Animations:
- `[@triggerName]` - триггеры анимаций
- `(@trigger.start)` - события анимаций
- `[@.disabled]` - отключение анимаций

### 5. Angular Router:
- `[routerLink]` - навигация
- `[routerLinkActive]` - активные ссылки
- `router-outlet` - точка вставки

### 6. Angular Material/CDK:
- `mat-*` - Material компоненты
- `cdkDrag` / `cdkDropList` - drag & drop
- `[matTooltip]` - всплывающие подсказки

### 7. Производительность:
- `[changeDetection]` - стратегии обнаружения изменений
- `[trackBy]` - оптимизация *ngFor
- `[runOutsideAngular]` - выполнение вне зоны

### 8. Международнаязация:
- `[i18n]` - переводы
- `[dir]` / `[lang]` - направление и язык

### 9. Тестирование:
- `[data-testid]` / `[data-cy]` - селекторы для тестов
- `#templateRef` - ссылки на шаблоны

### 10. Безопасность:
- `[innerHTML]` с pipe - безопасное отображение HTML
- `[bypassSecurityTrust]` - обход безопасности (с осторожностью)

